<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" type="text/css" href="../css/base.css" />
        <link rel="stylesheet" type="text/css" href="../css/register.css" />
        <script type="text/javascript" src="../libs/jquery-3.1.1.js"></script>
        <script type="text/javascript" src="../js/index.js"></script>
    </head>
    <body>
        <div class="register">
            <div class="close">
                <p class="fl">TMALL 天猫</p>
                <button>x</button>
            </div>
            
            <form action="../index.html">
                <p>注册用户</p>
                <label for="username">用户名：</label><input type="text" placeholder="以字母开头,数字、字母、下划线、横杠,长度6-20" id="username" class="username" /><br />
                <label for="password">密码：</label><input type="text" class="password" id="password" placeholder="不能包含空格,长度6-20"/><br />
                <label for="numder">手机号码：</label><input type="text" class="numder" id="numder"/><br />
                <button class="btnReg">注册</button>
            </form>

        </div>
        <script type="text/javascript">

            document.addEventListener('DOMContentLoaded',function(){
            
                var btn = document.querySelector('.btn');
                btn.onclick = function(e){
                    /*
                        如果以下表单有一个不符合，则不允许提交表单
                     */

                    e = e || window.event;

                    /*
                    验证账号
                        * 不能为空，
                        * 不能使用特殊字符（数字、字母、下划线、横杠），
                        * 必须以字母开头，
                        * 长度6-20
                    */
                    var username = document.getElementById('username').value;
                    if(!/^[a-z][\w\-]{5,19}$/.test(username)){
                        alert('您输入的用户名不合法');

                        // e.preventDefault();
                        // return;
                        return false;
                    }

                    
                    // //昵称只能输入中文
                    // var nickname = document.getElementById('nickname').value;
                    // if(!/^[\u2E80-\u9FFF]+$/.test(nickname)){
                    //     alert('昵称只能为中文');
                    //     return false;
                    // }
                    
                    
                    
                    

                    /*
                        手机号码
                            11位
                            158 8888 8888
                            1 [34578]
                     */
                    var numder = document.getElementById('numder').value;
                    if(!/^1[3-9]\d{9}$/.test(numder)){
                        alert('手机号不合法');
                        return false;
                    }

                    
                    
                    /*
                        密码  
                            长度6-20 
                            不能包含空格
                     */
                    var password = document.getElementById('password').value;
                    if(!/^\S{6,20}$/.test(password)){
                        alert('密码不能有空格');
                        return false;
                    }
                    
                    
                    /*var confirm_pwd = document.getElementById('confirm_pwd').value;
                    if(confirm_pwd != password){
                        alert('两次输入密码不一致');
                        return false;
                    }*/
                    
                }

                
            });
        </script>
    </body>
</html>